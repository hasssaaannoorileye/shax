(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1081:(e,a,s)=>{Promise.resolve().then(s.bind(s,9789))},7172:(e,a,s)=>{"use strict";s.d(a,{dj:()=>u});var t=s(2115);let l=0,r=new Map,n=e=>{if(r.has(e))return;let a=setTimeout(()=>{r.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,a)},i=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,5)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=a;return s?n(s):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},c=[],d={toasts:[]};function o(e){d=i(d,e),c.forEach(e=>{e(d)})}function m(e){let{...a}=e,s=(l=(l+1)%Number.MAX_VALUE).toString(),t=()=>o({type:"DISMISS_TOAST",toastId:s});return o({type:"ADD_TOAST",toast:{...a,id:s,open:!0,onOpenChange:e=>{e||t()}}}),{id:s,dismiss:t,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function u(){let[e,a]=(0,t.useState)(d);return(0,t.useEffect)(()=>(c.push(a),()=>{let e=c.indexOf(a);e>-1&&c.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}},9434:(e,a,s)=>{"use strict";s.d(a,{cn:()=>r});var t=s(2596),l=s(9688);function r(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,l.QP)((0,t.$)(a))}},9789:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>Q});var t=s(5155),l=s(2115);let r=[{id:1,name:"Player 1",color:"black",score:0,stats:{movesMade:0,capturesMade:0,averageMoveTime:0,gamesWon:0}},{id:2,name:"Player 2",color:"white",score:0,stats:{movesMade:0,capturesMade:0,averageMoveTime:0,gamesWon:0}}];function n(e,a){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],t=e.stats||{movesMade:0,capturesMade:0,averageMoveTime:0,gamesWon:0},l=t.movesMade+1,r=s?t.capturesMade+1:t.capturesMade,n=t.averageMoveTime*t.movesMade;return{...e,score:s?e.score+1:e.score,stats:{...t,movesMade:l,capturesMade:r,averageMoveTime:(n+a)/l}}}var i=s(9923);let c=e=>{let{board:a,onCellClick:s,selectedPiece:l,validMoves:r,capturablePositions:n,lastMove:c}=e,d=(e,a)=>a.some(a=>{let[s,t]=a;return s===e[0]&&t===e[1]}),o=(e,a)=>c.some(s=>{let[t,l]=s;return t===e&&l===a});return(0,t.jsxs)("div",{className:"relative mx-auto",children:[(0,t.jsx)("div",{className:"grid grid-cols-5 gap-2 w-full max-w-[500px] aspect-square mx-auto rounded-2xl bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 p-4  ring-1 ring-gray-200 dark:ring-gray-700",children:a.map((e,a)=>e.map((e,c)=>{let m=l&&l[0]===a&&l[1]===c,u=d([a,c],r),x=d([a,c],n),h=o(a,c);return(0,t.jsxs)(i.P.div,{className:"\n                  relative flex items-center justify-center aspect-square rounded-lg cursor-pointer transition-all duration-200\n                  ".concat(0===e?"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600":1===e?"bg-black hover:bg-gray-900":"bg-white hover:bg-gray-100","\n                  ").concat(m?"ring-2 ring-blue-500 dark:ring-blue-400 z-10":"","\n                  ").concat(u?"ring-2 ring-yellow-400 dark:ring-yellow-300":"","\n                  ").concat(x?"ring-2 ring-red-500 dark:ring-red-400":"","\n                  ").concat(h?"ring-2 ring-green-500 dark:ring-green-400":"","\n                "),onClick:()=>s(a,c),whileHover:{scale:1.05},whileTap:{scale:.95},initial:h?{scale:1.1}:{scale:1},animate:{scale:1},transition:{duration:.2},children:[0!==e&&(0,t.jsx)(i.P.div,{className:"\n                      w-3/4 h-3/4 rounded-full flex items-center justify-center\n                      ".concat(1===e?"bg-black border-2 border-gray-700":"bg-white border-2 border-gray-300","\n                    "),initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:300,damping:20},children:(0,t.jsx)("div",{className:"\n                        w-1/2 h-1/2 rounded-full \n                        ".concat(1===e?"bg-gray-700 border border-gray-600":"bg-gray-300 border border-gray-400","\n                      ")})}),(0,t.jsxs)("div",{className:"absolute bottom-1 right-1 text-[8px] md:text-xs opacity-50",children:[a+1,",",c+1]})]},"".concat(a,"-").concat(c))}))}),(0,t.jsxs)("div",{className:"mt-6 grid grid-cols-2 gap-4 text-sm text-gray-700 dark:text-gray-300",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 rounded-full bg-yellow-400 ring-1 ring-yellow-500"}),(0,t.jsx)("span",{children:"Valid Move"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 rounded-full bg-red-500 ring-1 ring-red-600"}),(0,t.jsx)("span",{children:"Capture Available"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 rounded-full bg-blue-500 ring-1 ring-blue-600"}),(0,t.jsx)("span",{children:"Selected Piece"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 rounded-full bg-green-500 ring-1 ring-green-600"}),(0,t.jsx)("span",{children:"Last Move"})]})]})]})};var d=s(9434);let o=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:a,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...l})});o.displayName="Card";let m=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:a,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",s),...l})});m.displayName="CardHeader";let u=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("h3",{ref:a,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",s),...l})});u.displayName="CardTitle",l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("p",{ref:a,className:(0,d.cn)("text-sm text-muted-foreground",s),...l})}).displayName="CardDescription";let x=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:a,className:(0,d.cn)("p-6 pt-0",s),...l})});x.displayName="CardContent",l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:a,className:(0,d.cn)("flex items-center p-6 pt-0",s),...l})}).displayName="CardFooter";var h=s(9428),f=s(5657),p=s(8186),g=s(1007),v=s(4186);let j=e=>{var a;let{player:s,isActive:l,remainingTime:r}=e;return(0,t.jsxs)(o,{className:"overflow-hidden transition-all duration-300 ".concat(l?"ring-2 ring-primary":""),children:[(0,t.jsx)(i.P.div,{className:"h-2 bg-primary ".concat(l?"opacity-100":"opacity-0"),initial:{width:"0%"},animate:{width:l?"100%":"0%"},transition:{duration:2,repeat:l?Number.POSITIVE_INFINITY:0}}),(0,t.jsxs)(x,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[s.avatar?(0,t.jsx)("img",{src:s.avatar||"/placeholder.svg",alt:s.name,className:"w-10 h-10 rounded-full object-cover"}):(0,t.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ".concat("black"===s.color?"bg-black":"bg-white border border-gray-300"),children:(0,t.jsx)(h.A,{className:"w-5 h-5 ".concat("black"===s.color?"text-white":"text-black")})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("h3",{className:"font-bold",children:s.name}),s.isAI&&(0,t.jsx)(f.A,{className:"h-3 w-3 text-muted-foreground"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,t.jsxs)("span",{children:["Captures: ",s.score]}),(null===(a=s.stats)||void 0===a?void 0:a.gamesWon)?(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(p.A,{className:"h-3 w-3"})," ",s.stats.gamesWon]}):null]})]})]}),null!==r&&(0,t.jsx)("div",{className:"text-xl font-mono font-bold ".concat((e=>e<=10?"text-red-500":e<=30?"text-orange-500":e<=60?"text-yellow-500":"text-green-500")(r)),children:(e=>{let a=Math.floor(e/60),s=e%60;return"".concat(a,":").concat(s<10?"0":"").concat(s)})(r)}),l&&(0,t.jsx)(i.P.div,{className:"absolute top-2 right-2 w-3 h-3 rounded-full bg-green-500",animate:{scale:[1,1.2,1]},transition:{repeat:Number.POSITIVE_INFINITY,duration:1}})]}),s.stats&&(0,t.jsxs)("div",{className:"mt-2 grid grid-cols-2 gap-x-4 gap-y-1 text-xs text-muted-foreground",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(g.A,{className:"h-3 w-3"}),(0,t.jsxs)("span",{children:["Moves: ",s.stats.movesMade]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(v.A,{className:"h-3 w-3"}),(0,t.jsxs)("span",{children:["Avg: ",s.stats.averageMoveTime.toFixed(1),"s"]})]})]})]})]})};var y=s(9051);let N=l.forwardRef((e,a)=>{let{className:s,children:l,...r}=e;return(0,t.jsxs)(y.bL,{ref:a,className:(0,d.cn)("relative overflow-hidden",s),...r,children:[(0,t.jsx)(y.LM,{className:"h-full w-full rounded-[inherit]",children:l}),(0,t.jsx)(b,{}),(0,t.jsx)(y.OK,{})]})});N.displayName=y.bL.displayName;let b=l.forwardRef((e,a)=>{let{className:s,orientation:l="vertical",...r}=e;return(0,t.jsx)(y.VM,{ref:a,orientation:l,className:(0,d.cn)("flex touch-none select-none transition-colors","vertical"===l&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===l&&"h-2.5 border-t border-t-transparent p-[1px]",s),...r,children:(0,t.jsx)(y.lr,{className:"relative flex-1 rounded-full bg-border"})})});b.displayName=y.VM.displayName;let w=e=>{let{moves:a}=e;return(0,t.jsxs)(o,{children:[(0,t.jsx)(m,{className:"py-3",children:(0,t.jsx)(u,{className:"text-lg",children:"Move History"})}),(0,t.jsx)(x,{className:"p-0",children:(0,t.jsx)(N,{className:"h-[200px] px-4",children:0===a.length?(0,t.jsx)("p",{className:"text-sm text-muted-foreground py-2",children:"No moves yet"}):(0,t.jsx)("ul",{className:"space-y-1",children:a.map((e,a)=>(0,t.jsxs)("li",{className:"text-sm py-1 border-b border-border last:border-0",children:[(0,t.jsxs)("span",{className:"font-mono text-xs mr-2 text-muted-foreground",children:[a+1,"."]}),e]},a))})})})]})};var S=s(9708),M=s(2085);let I=(0,M.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),k=l.forwardRef((e,a)=>{let{className:s,variant:l,size:r,asChild:n=!1,...i}=e,c=n?S.DX:"button";return(0,t.jsx)(c,{className:(0,d.cn)(I({variant:l,size:r,className:s})),ref:a,...i})});k.displayName="Button";let A=l.forwardRef((e,a)=>{let{className:s,type:l,...r}=e;return(0,t.jsx)("input",{type:l,className:(0,d.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...r})});A.displayName="Input";var T=s(968);let C=(0,M.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),P=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(T.b,{ref:a,className:(0,d.cn)(C(),s),...l})});P.displayName=T.b.displayName;var E=s(3646);let _=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(E.bL,{className:(0,d.cn)("grid gap-2",s),...l,ref:a})});_.displayName=E.bL.displayName;let R=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(E.q7,{ref:a,className:(0,d.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...l,children:(0,t.jsx)(E.C1,{className:"flex items-center justify-center",children:(0,t.jsx)(h.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});R.displayName=E.q7.displayName;var D=s(704);let F=D.bL,O=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(D.B8,{ref:a,className:(0,d.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...l})});O.displayName=D.B8.displayName;let V=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(D.l9,{ref:a,className:(0,d.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...l})});V.displayName=D.l9.displayName;let L=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(D.UC,{ref:a,className:(0,d.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...l})});L.displayName=D.UC.displayName;let q=e=>{let{players:a,firstPlayer:s,onSubmit:n,gameMode:c,timeLimit:d}=e,[h,p]=(0,l.useState)({...r[0],...a[0]}),[j,y]=(0,l.useState)({...r[1],...a[1]}),[N,b]=(0,l.useState)(s.toString()),[w,S]=(0,l.useState)(c),[M,I]=(0,l.useState)(d),[T,C]=(0,l.useState)("medium");return(0,t.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:(0,t.jsxs)(o,{className:"shadow-lg",children:[(0,t.jsx)(m,{children:(0,t.jsx)(u,{className:"text-2xl text-center",children:"Game Settings"})}),(0,t.jsx)(x,{children:(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(h,"auto"===w?{...j,name:"Auto (".concat(T,")"),isAI:!0,autoDifficulty:T}:{...j,isAI:!1},Number.parseInt(N),w,M,T)},className:"space-y-6",children:[(0,t.jsxs)(F,{defaultValue:w,onValueChange:e=>S(e),children:[(0,t.jsxs)(O,{className:"grid w-full grid-cols-3",children:[(0,t.jsxs)(V,{value:"standard",className:"flex items-center gap-1",children:[(0,t.jsx)(g.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Standard"})]}),(0,t.jsxs)(V,{value:"timed",className:"flex items-center gap-1",children:[(0,t.jsx)(v.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Timed"})]}),(0,t.jsxs)(V,{value:"auto",className:"flex items-center gap-1",children:[(0,t.jsx)(f.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"vs AI"})]})]}),(0,t.jsxs)(L,{value:"standard",className:"pt-4",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Play without time limits. The game continues until a player wins."}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(P,{htmlFor:"player1",children:"Player 1 (Black)"}),(0,t.jsx)(A,{id:"player1",value:h.name,onChange:e=>p({...h,name:e.target.value}),placeholder:"Enter player name",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(P,{htmlFor:"player2",children:"Player 2 (White)"}),(0,t.jsx)(A,{id:"player2",value:j.name,onChange:e=>y({...j,name:e.target.value}),placeholder:"Enter player name",required:!0})]})]})]}),(0,t.jsxs)(L,{value:"timed",className:"pt-4 space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Each player has a limited amount of time to make all their moves."}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(P,{htmlFor:"player1Timed",children:"Player 1 (Black)"}),(0,t.jsx)(A,{id:"player1Timed",value:h.name,onChange:e=>p({...h,name:e.target.value}),placeholder:"Enter player name",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(P,{htmlFor:"player2Timed",children:"Player 2 (White)"}),(0,t.jsx)(A,{id:"player2Timed",value:j.name,onChange:e=>y({...j,name:e.target.value}),placeholder:"Enter player name",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(P,{htmlFor:"timeLimit",children:"Time Limit (seconds)"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(A,{id:"timeLimit",type:"number",min:60,max:3600,value:M,onChange:e=>I(Number.parseInt(e.target.value))}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:[Math.floor(M/60),":",M%60<10?"0".concat(M%60):M%60]})]})]})]})]}),(0,t.jsxs)(L,{value:"auto",className:"pt-4 space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Play against the computer with adjustable difficulty."}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(P,{htmlFor:"playerAI",children:"Your Name (Black)"}),(0,t.jsx)(A,{id:"playerAI",value:h.name,onChange:e=>p({...h,name:e.target.value}),placeholder:"Enter your name",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(P,{children:"Auto Difficulty"}),(0,t.jsxs)(_,{value:T,onValueChange:e=>C(e),className:"flex space-x-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(R,{value:"easy",id:"auto-easy"}),(0,t.jsx)(P,{htmlFor:"auto-easy",children:"Easy"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(R,{value:"medium",id:"auto-medium"}),(0,t.jsx)(P,{htmlFor:"auto-medium",children:"Medium"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(R,{value:"hard",id:"auto-hard"}),(0,t.jsx)(P,{htmlFor:"auto-hard",children:"Hard"})]})]})]}),(0,t.jsxs)("div",{className:"bg-muted p-3 rounded-md",children:[(0,t.jsxs)("h3",{className:"font-medium mb-2 flex items-center gap-2",children:[(0,t.jsx)(f.A,{className:"h-4 w-4"}),"Auto Difficulty Levels"]}),(0,t.jsxs)("ul",{className:"text-xs space-y-1 text-muted-foreground",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Easy:"})," Makes random moves, suitable for beginners"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Medium:"})," Evaluates 2 moves ahead, occasionally makes mistakes"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Hard:"})," Evaluates 4 moves ahead, plays strategically"]})]})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(P,{children:"First Player"}),(0,t.jsxs)(_,{value:N,onValueChange:b,className:"flex space-x-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(R,{value:"1",id:"player1-first"}),(0,t.jsx)(P,{htmlFor:"player1-first",children:"Player 1"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(R,{value:"2",id:"player2-first"}),(0,t.jsx)(P,{htmlFor:"player2-first",children:"Player 2"})]})]})]}),(0,t.jsx)(k,{type:"submit",className:"w-full hover:bg-blue-100 active:bg-blue-200",children:"Start Game"})]})})]})})};var G=s(3904),W=s(381),B=s(4021),Y=s(7151);let H=e=>{let{onRestart:a,onSettings:s,onUndo:l,onRedo:r,canUndo:n=!1,canRedo:i=!1,timer:c,gameMode:d}=e;return(0,t.jsxs)(o,{children:[(0,t.jsx)(m,{className:"py-3",children:(0,t.jsx)(u,{className:"text-lg",children:"Game Controls"})}),(0,t.jsxs)(x,{className:"space-y-4",children:["standard"===d&&(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Game Time"}),(0,t.jsx)("p",{className:"text-2xl font-mono",children:(e=>{let a=Math.floor(e/60),s=e%60;return"".concat(a,":").concat(s<10?"0":"").concat(s)})(c)})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(k,{variant:"outline",className:"flex-1",onClick:a,children:[(0,t.jsx)(G.A,{className:"mr-2 h-4 w-4"}),"Restart"]}),(0,t.jsxs)(k,{variant:"outline",className:"flex-1",onClick:s,children:[(0,t.jsx)(W.A,{className:"mr-2 h-4 w-4"}),"Settings"]})]}),(l||r)&&(0,t.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,t.jsxs)(k,{variant:"outline",className:"flex-1",onClick:l,disabled:!n,children:[(0,t.jsx)(B.A,{className:"mr-2 h-4 w-4"}),"Undo"]}),(0,t.jsxs)(k,{variant:"outline",className:"flex-1",onClick:r,disabled:!i,children:[(0,t.jsx)(Y.A,{className:"mr-2 h-4 w-4"}),"Redo"]})]})]})]})},U=e=>{let{winner:a,onRestart:s,onSettings:l}=e;return(0,t.jsx)(i.P.div,{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,t.jsx)(i.P.div,{className:"bg-card rounded-lg shadow-xl max-w-md w-full p-6",initial:{scale:.9,y:20},animate:{scale:1,y:0},transition:{type:"spring",damping:15},children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(i.P.div,{initial:{rotate:-10,scale:.8},animate:{rotate:0,scale:1},transition:{duration:.5,delay:.2},className:"mx-auto w-20 h-20 bg-yellow-500/20 rounded-full flex items-center justify-center mb-4",children:(0,t.jsx)(p.A,{className:"h-10 w-10 text-yellow-500"})}),(0,t.jsx)(i.P.h2,{className:"text-2xl font-bold mb-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:"Game Over!"}),(0,t.jsxs)(i.P.div,{className:"mb-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},children:[(0,t.jsxs)("p",{className:"text-lg",children:[(0,t.jsx)("span",{className:"font-bold",children:a.name})," wins the game!"]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Congratulations on your victory!"})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,t.jsx)(k,{onClick:s,className:"flex-1",children:"Play Again"}),(0,t.jsx)(k,{onClick:l,variant:"outline",className:"flex-1",children:"Change Settings"})]})]})})})};var z=s(7172);let K=[[1,1,1,1,1],[1,1,1,1,1],[1,1,0,2,2],[2,2,2,2,2],[2,2,2,2,2]],X=()=>{let[e,a]=(0,l.useState)(K),[s,d]=(0,l.useState)(1),[o,m]=(0,l.useState)(null),[u,x]=(0,l.useState)(null),[h,p]=(0,l.useState)({1:0,2:0}),[g,v]=(0,l.useState)([]),[y,N]=(0,l.useState)(0),[b,S]=(0,l.useState)(!1),[M,I]=(0,l.useState)(!0),[k,A]=(0,l.useState)([r[0],r[1]]),[T,C]=(0,l.useState)(1),[P,E]=(0,l.useState)([]),[_,R]=(0,l.useState)([]),[D,F]=(0,l.useState)(!1),[O,V]=(0,l.useState)(!1),[L,G]=(0,l.useState)([]),[W,B]=(0,l.useState)("standard"),[Y,X]=(0,l.useState)(300),[Q,$]=(0,l.useState)({1:300,2:300}),[J,Z]=(0,l.useState)(Date.now()),[ee,ea]=(0,l.useState)(null),[es,et]=(0,l.useState)("medium"),[el,er]=(0,l.useState)(!1),[en,ei]=(0,l.useState)([]),[ec,ed]=(0,l.useState)(-1),{toast:eo}=(0,z.dj)(),em=e=>{let a=new Audio("/sounds/".concat(e,".mp3"));a.volume=.5,a.play().catch(e=>console.error("Error playing sound:",e))};(0,l.useEffect)(()=>{let e;return b&&(e=setInterval(()=>{"timed"===W?$(a=>{let t={...a};return t[s]=Math.max(0,t[s]-1),0===t[s]&&(x(1===s?2:1),F(!0),S(!1),em("win"),clearInterval(e)),t}):N(e=>e+1)},1e3)),()=>clearInterval(e)},[b,s,W]);let eu=e.flat().filter(e=>1===e).length,ex=e.flat().filter(e=>2===e).length,eh=(0,l.useCallback)((e,a,s,t)=>{let l=[],r=[];return t&&s?ef(e,s[0],s[1],a)&&r.push(s):e.forEach((s,t)=>{s.forEach((n,i)=>{if(n===a){let n=[[1,0],[-1,0],[0,1],[0,-1]],c=!1;for(let[l,d]of n){let n=t+2*l,o=i+2*d;if(n>=0&&n<e.length&&o>=0&&o<s.length&&0===e[n][o]){let s=t+l,n=i+d;0!==e[s][n]&&e[s][n]!==a&&(r.push([t,i]),c=!0)}}if(!c&&0===r.length)for(let[a,r]of n){let n=t+a,c=i+r;if(n>=0&&n<e.length&&c>=0&&c<s.length&&0===e[n][c]){l.push([t,i]);break}}}})}),{validMoves:l,capturablePositions:r}},[]),ef=(e,a,s,t)=>{for(let[l,r]of[[1,0],[-1,0],[0,1],[0,-1]]){let n=a+2*l,i=s+2*r;if(n>=0&&n<e.length&&i>=0&&i<e[0].length&&0===e[n][i]){let n=a+l,i=s+r;if(0!==e[n][i]&&e[n][i]!==t)return!0}}return!1};(0,l.useEffect)(()=>{if(u||M)return;let{validMoves:a,capturablePositions:t}=eh(e,s,o,O);E(a),R(t),a.length||t.length||(x(1===s?2:1),F(!0),S(!1),em("win"))},[e,s,o,O,u,M,eh]),(0,l.useEffect)(()=>{Z(Date.now())},[s]);let ep=(e,a,s,t,l,r)=>{if(0!==e[t][l])return!1;let n=Math.abs(t-a),i=Math.abs(l-s);if(1===n&&0===i||0===n&&1===i)return!O;if(2===n&&0===i||0===n&&2===i){let n=e[(a+t)/2][(s+l)/2];return 0!==n&&n!==r}return!1},eg=(e,a)=>{for(let s=0;s<e.length;s++)for(let t=0;t<e[s].length;t++)if(e[s][t]===a)for(let[l,r]of[[1,0],[-1,0],[0,1],[0,-1]]){let n=s+l,i=t+r;if(n>=0&&n<e.length&&i>=0&&i<e[s].length&&0===e[n][i])return!0;let c=s+2*l,d=t+2*r;if(c>=0&&c<e.length&&d>=0&&d<e[s].length&&0===e[c][d]){let n=s+l,i=t+r;if(n>=0&&n<e.length&&i>=0&&i<e[s].length&&0!==e[n][i]&&e[n][i]!==a)return!0}}return!1},ev=(e,a,s,t)=>{let l=[],r=[[1,0],[-1,0],[0,1],[0,-1]];for(let[n,i]of r){let r=a+2*n,c=s+2*i;if(r>=0&&r<e.length&&c>=0&&c<e[0].length&&0===e[r][c]){let d=a+n,o=s+i;0!==e[d][o]&&e[d][o]!==t&&l.push({from:[a,s],to:[r,c],score:10,isCapture:!0,capturedPosition:[d,o]})}}if(0===l.length)for(let[t,n]of r){let r=a+t,i=s+n;r>=0&&r<e.length&&i>=0&&i<e[0].length&&0===e[r][i]&&l.push({from:[a,s],to:[r,i],score:1,isCapture:!1})}return l},ej=(e,a)=>{let s=[];if(O&&o)return ev(e,o[0],o[1],a);for(let t=0;t<e.length;t++)for(let l=0;l<e[t].length;l++)if(e[t][l]===a){let r=ev(e,t,l,a);s.push(...r)}let t=s.filter(e=>e.isCapture);return t.length>0?t:s},ey=(e,a)=>{let s=1===a?2:1,t=0,l=0,r=0;for(let n=0;n<e.length;n++)for(let i=0;i<e[n].length;i++)e[n][i]===a?(t++,1===a&&n>=3?r+=2:2===a&&n<=1&&(r+=2),(2===n&&2===i||2===n&&1===i||2===n&&3===i)&&(r+=1),ef(e,n,i,a)&&(r+=3)):e[n][i]===s&&l++;r+=(t-l)*5;let{validMoves:n,capturablePositions:i}=eh(e,a,null,!1);return r+(n.length+2*i.length)},eN=(e,a)=>{let s=e.map(e=>[...e]),[t,l]=a.from,[r,n]=a.to;if(s[r][n]=s[t][l],s[t][l]=0,a.isCapture&&a.capturedPosition){let[e,t]=a.capturedPosition;s[e][t]=0}return s},eb=(e,a,s,t,l,r)=>{if(0===a)return ey(e,r);let n=1===r?2:1,i=ej(e,l?r:n);if(0===i.length)return l?-1e3:1e3;if(l){let l=Number.NEGATIVE_INFINITY;for(let n of i){let i=eb(eN(e,n),a-1,s,t,!1,r);if(l=Math.max(l,i),t<=(s=Math.max(s,i)))break}return l}{let l=Number.POSITIVE_INFINITY;for(let n of i){let i=eb(eN(e,n),a-1,s,t,!0,r);if(l=Math.min(l,i),(t=Math.min(t,i))<=s)break}return l}},ew=(e,a,s)=>{let t=ej(e,a);if(0===t.length)return null;if("easy"===s){let e=Math.floor(Math.random()*t.length);return t[e]}let l="medium"===s?2:4,r=null,n=Number.NEGATIVE_INFINITY;for(let s of t){let t=eb(eN(e,s),l,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,!1,a);t>n&&(n=t,r=s)}if("medium"===s&&.3>Math.random()){let e=Math.floor(Math.random()*t.length);return t[e]}return r},eS=(t,l)=>{if(u||M||s===ee)return;let r=e.map(e=>[...e]);if(o){let[e,i]=o;if(ep(r,e,i,t,l,s)){let c=(Date.now()-J)/1e3;r[t][l]=s,r[e][i]=0;let o=Math.abs(t-e),u=Math.abs(l-i),h=!1;if(2===o&&0===u||0===o&&2===u){let a=(i+l)/2;r[(e+t)/2][a]=0,h=!0,p(e=>({...e,[s]:e[s]+1})),A(e=>e.map(e=>e.id===s?n(e,c,!0):e)),em("capture"),eo({title:"Piece captured!",description:"".concat(k[s-1].name," captured a piece.")})}else A(e=>e.map(e=>e.id===s?n(e,c,!1):e)),em("move");if(a(r),eA(r),G([[e,i],[t,l]]),v(a=>[...a,"".concat(k[s-1].name," moved from (").concat(e+1,", ").concat(i+1,") to (").concat(t+1,", ").concat(l+1,")").concat(h?" and captured a piece":"")]),0===eu||0===ex)x(0===eu?2:1),F(!0),S(!1),em("win");else if(h&&ef(r,t,l,s))m([t,l]),V(!0),eo({title:"Multiple capture!",description:"You can capture another piece with the same piece."});else{m(null),V(!1);let e=1===s?2:1;Z(Date.now()),eg(r,e)?d(e):(x(s),F(!0),S(!1),em("win"))}}else r[t][l]===s?m([t,l]):(m(null),V(!1))}else r[t][l]===s&&(m([t,l]),S(!0))},eM=(0,l.useCallback)((t,l,r,i)=>{let c=e.map(e=>[...e]);m([t,l]);let o=Math.abs(r-t),u=Math.abs(i-l),h=!1,f=-1,g=-1;(2===o&&0===u||0===o&&2===u)&&(f=(t+r)/2,g=(l+i)/2,h=!0),setTimeout(()=>{if(s===ee){if(c[r][i]=s,c[t][l]=0,h?(c[f][g]=0,p(e=>({...e,[s]:e[s]+1})),A(e=>e.map(e=>e.id===s?n(e,1,!0):e)),em("capture"),eo({title:"Piece captured!",description:"".concat(k[s-1].name," captured a piece.")})):em("move"),a(c),eA(c),G([[t,l],[r,i]]),v(e=>[...e,"".concat(k[s-1].name," moved from (").concat(t+1,", ").concat(l+1,") to (").concat(r+1,", ").concat(i+1,")").concat(h?" and captured a piece":"")]),h&&ef(c,r,i,s))m([r,i]),V(!0),setTimeout(()=>{eI()},1e3);else{m(null),V(!1);let e=1===s?2:1;eg(c,e)?d(e):(x(s),F(!0),S(!1),em("win"))}}else eS(r,i)},300)},[e,s,ee,k]),eI=(0,l.useCallback)(()=>{s!==ee||u||M||el||(er(!0),setTimeout(()=>{let a=ew(e,ee,es);if(a){let[e,s]=a.from,[t,l]=a.to;console.log("AI making move from (".concat(e,", ").concat(s,") to (").concat(t,", ").concat(l,")")),eM(e,s,t,l)}else console.log("AI could not find a valid move");er(!1)},1e3))},[e,ee,s,u,M,es,el,eM]);(0,l.useEffect)(()=>{s!==ee||u||M||el||(console.log("AI's turn: Player ".concat(ee,", Difficulty: ").concat(es)),eI())},[s,ee,u,M,el,eI]);let ek=()=>{a(K),d(T),m(null),x(null),p({1:0,2:0}),v([]),N(0),S(!1),I(!1),F(!1),V(!1),G([]),$({1:Y,2:Y}),Z(Date.now()),ei([]),ed(-1)},eA=e=>{let a={board:e.map(e=>[...e]),currentPlayer:s,scores:{...h},selectedPiece:o,canContinueCapturing:O,lastMove:[...L],moveHistory:[...g]};ec<en.length-1?ei(e=>[...e.slice(0,ec+1),a]):ei(e=>[...e,a]),ed(e=>e+1)};return(0,l.useEffect)(()=>{0!==en.length||M||eA(e)},[M]),(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8 flex flex-col items-center",children:[(0,t.jsx)(i.P.h1,{className:"text-4xl font-bold mb-6 text-center bg-gradient-to-r from-primary to-primary-foreground bg-clip-text text-transparent",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:"Kor-u-Boodo Shax"}),M?(0,t.jsx)(q,{players:k,firstPlayer:T,onSubmit:(e,s,t,l,r,n)=>{B(l),"auto"===l?(A([e,{...s,name:"AI (".concat(n||"medium",")"),isAI:!0,aiDifficulty:n||"medium"}]),ea(2),et(n||"medium")):(A([e,s]),ea(null)),C(t),d(t),X(r),$({1:r,2:r}),I(!1),Z(Date.now()),a(K),m(null),x(null),p({1:0,2:0}),v([]),N(0),S(!1),F(!1),V(!1),G([]),$({1:r,2:r}),Z(Date.now()),ei([]),ed(-1)},gameMode:W,timeLimit:Y}):(0,t.jsx)(i.P.div,{className:"w-full max-w-6xl",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-1 space-y-4",children:[(0,t.jsx)(j,{player:k[0],isActive:1===s,remainingTime:"timed"===W?Q[1]:null}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsx)(H,{onRestart:ek,onSettings:()=>I(!0),onUndo:()=>{if(ec<=0||u||M)return;let e=ec-1,s=en[e];a(s.board.map(e=>[...e])),d(s.currentPlayer),p({...s.scores}),m(s.selectedPiece),V(s.canContinueCapturing),G([...s.lastMove]),v([...s.moveHistory]),ed(e),s.currentPlayer===ee&&er(!1),em("move")},onRedo:()=>{if(ec>=en.length-1||u||M)return;let e=ec+1,s=en[e];a(s.board.map(e=>[...e])),d(s.currentPlayer),p({...s.scores}),m(s.selectedPiece),V(s.canContinueCapturing),G([...s.lastMove]),v([...s.moveHistory]),ed(e),em("move")},canUndo:ec>0&&!u&&!M,canRedo:ec<en.length-1&&!u&&!M,timer:y,gameMode:W})}),(0,t.jsx)(w,{moves:g}),"auto"===W&&(0,t.jsxs)("div",{className:"bg-card rounded-lg p-4 shadow-md",children:[(0,t.jsxs)("h2",{className:"text-xl font-semibold mb-3 flex items-center gap-2",children:[(0,t.jsx)(f.A,{className:"h-5 w-5"}),"AI Settings"]}),(0,t.jsxs)("div",{className:"text-sm space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Difficulty:"}),(0,t.jsx)("span",{className:"font-medium",children:es})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"AI Player:"}),(0,t.jsx)("span",{className:"font-medium",children:k[1].name})]}),el&&(0,t.jsx)("div",{className:"flex items-center gap-2 text-primary",children:(0,t.jsx)("span",{className:"animate-pulse",children:"AI is thinking..."})})]})]})]}),(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsx)(c,{board:e,validMoves:P,capturablePositions:_,onCellClick:eS,selectedPiece:o,lastMove:L})}),(0,t.jsxs)("div",{className:"lg:col-span-1 space-y-4",children:[(0,t.jsx)(j,{player:k[1],isActive:2===s,remainingTime:"timed"===W?Q[2]:null}),(0,t.jsxs)("div",{className:"bg-card rounded-lg p-4 shadow-md",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-3",children:"Game Rules"}),(0,t.jsxs)("ul",{className:"list-disc pl-5 space-y-2 text-sm",children:[(0,t.jsx)("li",{children:"Move one space horizontally or vertically to an empty space"}),(0,t.jsx)("li",{children:"Capture opponent pieces by jumping over them to an empty space"}),(0,t.jsx)("li",{children:"Multiple captures in one turn are allowed with the same piece"}),(0,t.jsx)("li",{children:"Win by capturing all opponent pieces or blocking all their moves"})]})]}),(0,t.jsxs)("div",{className:"bg-card rounded-lg p-4 shadow-md",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-3",children:"Game Stats"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsx)("div",{className:"text-sm",children:"Black pieces:"}),(0,t.jsx)("div",{className:"text-sm font-medium",children:eu}),(0,t.jsx)("div",{className:"text-sm",children:"White pieces:"}),(0,t.jsx)("div",{className:"text-sm font-medium",children:ex}),(0,t.jsx)("div",{className:"text-sm",children:"Captures (Black):"}),(0,t.jsx)("div",{className:"text-sm font-medium",children:h[1]}),(0,t.jsx)("div",{className:"text-sm",children:"Captures (White):"}),(0,t.jsx)("div",{className:"text-sm font-medium",children:h[2]})]})]})]})]})}),D&&(0,t.jsx)(U,{winner:k[u-1],onRestart:ek,onSettings:()=>{F(!1),I(!0)}})]})};function Q(){return(0,t.jsx)("main",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:(0,t.jsx)(X,{})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[413,376,441,684,358],()=>a(1081)),_N_E=e.O()}]);